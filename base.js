class Base{constructor(a,b){if(2>a)throw`Base cannot be less than 2!`;this.B=Math.floor(a);this._=(128<a?b:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZабвгдеёжзийклмнопрсиуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСИУФХЦЧШЩЪЫЬЗЮЯ").slice(0,a).split("")}parse(a){for(var b=0,c=0;c<a.length;c++)b+=this.B**(a.length-1-c)*this._.indexOf(a[c]);return b}encode(a){let t=this;a=Math.abs(a);for(var b="",c=t.e(a);-1<c;c--)for(let d=0;d<t._.length;d++){let e=t.g(c,d);if(e==a||t.g(c,d+1)>a){a-=e;b+=t._[d];break}}return b}g(a,b){return this.B**a*b}e(a){let b;for(b=0;200>b&&!(this.g(b+1,1)>a);b++);return b}}